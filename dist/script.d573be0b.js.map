{"version":3,"sources":["js/script.js"],"names":["BLOCK_CLASS","SELECTOR_CLASS","DISPLAY","displayElement","document","querySelector","calculatorButtons","querySelectorAll","CALCULATOR","currentValue","operator","accumulator","isEqualPressed","RUN","handleDisplayValue","handleOperatorAction","calculate","resetValues","value","setButtonActions","forEach","button","addEventListener","event","typeAction","target","dataset","type","setLastOperatorSelected","length","operations","parseFloat","toString"],"mappings":"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","file":"script.d573be0b.js","sourceRoot":"..","sourcesContent":["(() => {\r\n  const BLOCK_CLASS = 'calculator';\r\n  const SELECTOR_CLASS = {\r\n    DISPLAY: `.${BLOCK_CLASS}__display`\r\n  };\r\n  const displayElement = document.querySelector(SELECTOR_CLASS.DISPLAY);\r\n  const calculatorButtons = [\r\n    ...document.querySelectorAll(`.${BLOCK_CLASS} > button`)\r\n  ];\r\n  const CALCULATOR = {\r\n    currentValue: '0',\r\n    operator: '',\r\n    accumulator: '0',\r\n    isEqualPressed: false\r\n  }\r\n\r\n  const RUN = {\r\n    'number': handleDisplayValue,\r\n    'operator': handleOperatorAction,\r\n    'equal': calculate,\r\n    'clear': resetValues\r\n  }\r\n\r\n  displayElement.value = CALCULATOR.currentValue;\r\n\r\n  const setButtonActions = () => {\r\n    calculatorButtons.forEach(button => {\r\n      button.addEventListener('click', (event) => {\r\n        const typeAction = event.target.dataset.type || '';\r\n\r\n        RUN[typeAction](event);\r\n      })\r\n    })\r\n  }\r\n\r\n  function handleDisplayValue(event) {\r\n    if (CALCULATOR.isEqualPressed) {\r\n      resetValues();\r\n    }\r\n\r\n    CALCULATOR.currentValue =  CALCULATOR.currentValue === '0'\r\n        ? event.target.value : CALCULATOR.currentValue + event.target.value;\r\n\r\n    displayElement.value = CALCULATOR.currentValue;\r\n  }\r\n\r\n  function handleOperatorAction(event) {\r\n    if (CALCULATOR.isEqualPressed) {\r\n      CALCULATOR.isEqualPressed = false;\r\n      setLastOperatorSelected(event);\r\n      displayElement.value = CALCULATOR.accumulator;\r\n      return;\r\n    }\r\n\r\n    calculate(event);\r\n    setLastOperatorSelected(event);\r\n  }\r\n\r\n  function calculate(event) {\r\n    if (CALCULATOR.currentValue === '0' ||\r\n        (CALCULATOR.isEqualPressed && CALCULATOR.operator.length === 0)) {\r\n      return;\r\n    }\r\n    const {accumulator, currentValue, operator} = CALCULATOR;\r\n    const operations = {\r\n      'add': parseFloat(accumulator) + parseFloat(currentValue),\r\n      'substract': parseFloat(accumulator) - parseFloat(currentValue),\r\n      'multiply': parseFloat(accumulator) * parseFloat(currentValue),\r\n      'divide': parseFloat(accumulator) / parseFloat(currentValue),\r\n    }\r\n\r\n    CALCULATOR.accumulator = accumulator === '0' && operator.length === 0 ?\r\n        currentValue : operations[operator].toString();\r\n    displayElement.value = CALCULATOR.accumulator;\r\n\r\n    if(event.target.dataset.type === 'equal') {\r\n      CALCULATOR.isEqualPressed = true;\r\n    }\r\n  }\r\n\r\n  function resetValues () {\r\n    displayElement.value = '0';\r\n    CALCULATOR.currentValue = '0';\r\n    CALCULATOR.accumulator = '0';\r\n    CALCULATOR.operator = '';\r\n    CALCULATOR.isEqualPressed = false;\r\n  }\r\n\r\n  function setLastOperatorSelected(event) {\r\n    CALCULATOR.currentValue = '0';\r\n    CALCULATOR.operator = event.target.value;\r\n  }\r\n\r\n  setButtonActions();\r\n})();\r\n\r\n"]}